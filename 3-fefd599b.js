(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{50:function(t,e,n){"use strict";n.r(e);var o,l=n(0),i=n(30),r=n(8),a=n(20),s=n(51),c=(n(54),n(55),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=Object(a.LazyComponent)((function(){return n.e(5).then(n.bind(null,56))})),f=Object(a.LazyComponent)((function(){return n.e(4).then(n.bind(null,57))}),l.createElement("div",null,"Loading About..")),u=function(t){function e(e){var n=t.call(this,e)||this;return n.state={utilArea:!1},n.refAppWrapper=null,n.saNav=null,n.onScroll=function(t,e,o){t<=o-80&&(t-e<0?n.state.utilArea||n.setState({utilArea:!0}):n.state.utilArea&&n.setState({utilArea:!1}))},n.onAttach=function(t,e){return console.log(t+":"+e+" is ATTACHED!")},n.onDetach=function(t,e){return console.log(t+":"+e+" is DETACHED!")},n.refAppWrapper=l.createRef(),n.state.utilArea=!1,n}return c(e,t),e.prototype.componentDidMount=function(){this.saNav=new s.ScrollingAnchor(".scrolling-anchor",{offsetAttachTop:this.state.utilArea?120:0,offsetAttachBottom:this.state.utilArea?80:0,onScroll:this.onScroll,onAttach:this.onAttach,onDetach:this.onDetach})},e.prototype.componentDidUpdate=function(t,e,n){e.utilArea!==this.state.utilArea&&this.saNav.setPosition({offsetAttachTop:this.state.utilArea?120:0,offsetAttachBottom:this.state.utilArea?80:0})},e.prototype.render=function(){return l.createElement(l.Fragment,null,l.createElement("div",{className:"util-area-top",style:{top:this.state.utilArea?0:-120}},"Navigation Bar Area"),l.createElement("div",{ref:this.refAppWrapper,className:"app-wrapper "+(this.state.utilArea?"has-util-area":"")},l.createElement("div",{className:"scrolling-anchor","data-direction":"top"},l.createElement("nav",null,l.createElement("ul",null,l.createElement("li",null,l.createElement(i.Link,{to:"/"},"Home")),l.createElement("li",null,l.createElement(i.Link,{to:"/about"},"About")),l.createElement("li",null,l.createElement("a",{href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React.js")),l.createElement("li",null,"(Scrolling Anchor TOP)")))),l.createElement("header",null,l.createElement("h1",null,"React Demo"),l.createElement("h2",null,"Scrolling Anchor library"),l.createElement(r.d,{exact:!0,path:"/",component:h}),l.createElement(r.d,{path:"/about",component:f})),l.createElement("footer",null,"Copyright 2019 by mornya. All rights reserved."),l.createElement("div",{className:"scrolling-anchor","data-direction":"top"},l.createElement("nav",null,l.createElement("ul",null,l.createElement("li",null,l.createElement(i.Link,{to:"/"},"Home")),l.createElement("li",null,l.createElement(i.Link,{to:"/about"},"About")),l.createElement("li",null,l.createElement("a",{href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React.js")),l.createElement("li",null,"(Scrolling Anchor TOP)")),l.createElement("div",{className:"aldhoaa"},"A little different height of anchor area"))),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",{className:"scrolling-anchor","data-direction":"bottom"},l.createElement("nav",null,l.createElement("div",{className:"aldhoaa"},"A little different height of anchor area"),l.createElement("ul",null,l.createElement("li",null,l.createElement(i.Link,{to:"/"},"Home")),l.createElement("li",null,l.createElement(i.Link,{to:"/about"},"About")),l.createElement("li",null,l.createElement("a",{href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React.js")),l.createElement("li",null,"(Scrolling Anchor BOTTOM)")))),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",{className:"scrolling-anchor","data-direction":"top"},l.createElement("nav",null,l.createElement("ul",null,l.createElement("li",null,l.createElement(i.Link,{to:"/"},"Home")),l.createElement("li",null,l.createElement(i.Link,{to:"/about"},"About")),l.createElement("li",null,l.createElement("a",{href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React.js")),l.createElement("li",null,"(Scrolling Anchor TOP)")))),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",null,"*"),l.createElement("div",{className:"scrolling-anchor","data-direction":"bottom"},l.createElement("nav",null,l.createElement("ul",null,l.createElement("li",null,l.createElement(i.Link,{to:"/"},"Home")),l.createElement("li",null,l.createElement(i.Link,{to:"/about"},"About")),l.createElement("li",null,l.createElement("a",{href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React.js")),l.createElement("li",null,"(Scrolling Anchor BOTTOM)"))))),l.createElement("div",{className:"util-area-bottom",style:{bottom:this.state.utilArea?0:-80}},"Utility Bar Area"))},e.prototype.componentWillUnmount=function(){this.saNav&&this.saNav.destroy()},e}(l.Component);e.default=u},51:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var l in e=arguments[n])Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t}).apply(this,arguments)},l=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(52),r=n(53),a={offsetAttachTop:0,offsetAttachBottom:0,onScroll:function(){},onAttach:function(){},onDetach:function(){}},s=function(){function t(t,e){this.scrollingAnchorMain=null,this.option=null,this.selector="",this.state=null,this.scrollingAnchorMain=new i.ScrollingAnchorMain,this.selector=t||".scrolling-anchor",this.option=o({},a,e),this.receiveClientBroadcast=this.receiveClientBroadcast.bind(this),this.onScroll=this.onScroll.bind(this),this.onResize=this.onResize.bind(this),this.calculateOffsetTop=this.calculateOffsetTop.bind(this),this.calculateOffsetBottom=this.calculateOffsetBottom.bind(this),this.setPosition=this.setPosition.bind(this),this.destroy=this.destroy.bind(this),this.initialize()}return t.prototype.initialize=function(){var t,e,n=this;this.state={objects:document.querySelectorAll(this.selector),documentBody:document.documentElement||document.body,scrollOffsetY:0,scrollHeight:0,defaultOffsetAttachTop:0,defaultOffsetAttachBottom:0,offsetAttachTop:[0],offsetAttachBottom:[0],attachedIndexTop:-1,attachedIndexBottom:-1};var o=[],i=[];try{for(var a=l(this.state.objects),s=a.next();!s.done;s=a.next()){var c=s.value;"top"===(c.getAttribute("data-direction")||"top")?o.push(c):i.unshift(c)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}this.option?(this.calculateOffsetTop(this.option.offsetAttachTop||0),this.calculateOffsetBottom(this.option.offsetAttachBottom||0),this.option.onAttach=this.option.onAttach||function(){},this.option.onDetach=this.option.onDetach||function(){}):(this.calculateOffsetTop(0),this.calculateOffsetBottom(0),this.option.onAttach=function(){},this.option.onDetach=function(){}),o.forEach((function(t,e){n.scrollingAnchorMain.addObserver(new r.ScrollingAnchorClient({el:t,index:e,direction:"top",documentBody:n.state.documentBody,scrollOffsetY:n.state.scrollOffsetY,scrollHeight:n.state.scrollHeight,defaultOffsetAttachTop:n.state.defaultOffsetAttachTop,defaultOffsetAttachBottom:n.state.defaultOffsetAttachBottom,offsetAttachTop:0,offsetAttachBottom:0,broadcast:n.receiveClientBroadcast}))})),i.forEach((function(t,e){n.scrollingAnchorMain.addObserver(new r.ScrollingAnchorClient({el:t,index:e,direction:"bottom",documentBody:n.state.documentBody,scrollOffsetY:n.state.scrollOffsetY,scrollHeight:n.state.scrollHeight,defaultOffsetAttachTop:n.state.defaultOffsetAttachTop,defaultOffsetAttachBottom:n.state.defaultOffsetAttachBottom,offsetAttachTop:0,offsetAttachBottom:0,broadcast:n.receiveClientBroadcast}))})),window.addEventListener("scroll",this.onScroll,!1),window.addEventListener("resize",this.onResize,!1),this.onScroll()},t.getScrollOffsetY=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop},Object.defineProperty(t.prototype,"scrollOffsetY",{get:function(){return this.state.scrollOffsetY},set:function(t){var e=this;if(t!==this.state.scrollOffsetY){var n=this.state.scrollOffsetY;this.scrollingAnchorMain.notifyAll("SCROLL_OFFSET_Y",t),this.state.scrollOffsetY=t,setTimeout((function(){return e.option.onScroll(t,n,e.scrollHeight-e.state.documentBody.offsetHeight)}),0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollHeight",{get:function(){return this.state.scrollHeight},set:function(t){t>0&&t!==this.state.scrollHeight&&(this.scrollingAnchorMain.notifyAll("SCROLL_HEIGHT",t),this.state.scrollHeight=t)},enumerable:!0,configurable:!0}),t.prototype.receiveClientBroadcast=function(t,e){var n=this;switch(t){case"ATTACHED_TOP":this.state.offsetAttachTop.push(e),this.state.attachedIndexTop++,this.scrollingAnchorMain.notifyAll("OFFSET_ATTACH_TOP",this.state.offsetAttachTop),this.scrollingAnchorMain.notifyAll("INDEX_ATTACH_TOP",this.state.attachedIndexTop),setTimeout((function(){return n.option.onAttach("top",n.state.attachedIndexTop)}),0);break;case"ATTACHED_BOTTOM":this.state.offsetAttachBottom.push(e),this.state.attachedIndexBottom++,this.scrollingAnchorMain.notifyAll("OFFSET_ATTACH_BOTTOM",this.state.offsetAttachBottom),this.scrollingAnchorMain.notifyAll("INDEX_ATTACH_BOTTOM",this.state.attachedIndexBottom),setTimeout((function(){return n.option.onAttach("bottom",n.state.attachedIndexBottom)}),0);break;case"DETACHED_TOP":this.state.offsetAttachTop.pop(),this.state.attachedIndexTop--,this.scrollingAnchorMain.notifyAll("OFFSET_DETACH_TOP",this.state.offsetAttachTop),this.scrollingAnchorMain.notifyAll("INDEX_ATTACH_TOP",this.state.attachedIndexTop),setTimeout((function(){return n.option.onDetach("top",n.state.attachedIndexTop)}),0);break;case"DETACHED_BOTTOM":this.state.offsetAttachBottom.pop(),this.state.attachedIndexBottom--,this.scrollingAnchorMain.notifyAll("OFFSET_DETACH_BOTTOM",this.state.offsetAttachBottom),this.scrollingAnchorMain.notifyAll("INDEX_ATTACH_BOTTOM",this.state.attachedIndexBottom),setTimeout((function(){return n.option.onDetach("bottom",n.state.attachedIndexBottom)}),0)}},t.prototype.onScroll=function(){this.scrollOffsetY=t.getScrollOffsetY(),this.scrollHeight=this.state.documentBody.scrollHeight},t.prototype.onResize=function(){var t=this;this.resizeTID&&clearTimeout(this.resizeTID),this.resizeTID=setTimeout((function(){t.onScroll()}),500)},t.prototype.calculateOffsetTop=function(t){this.state.defaultOffsetAttachTop=t},t.prototype.calculateOffsetBottom=function(t){this.state.defaultOffsetAttachBottom=t},t.prototype.setPosition=function(t){void 0!==t.offsetAttachTop&&(this.calculateOffsetTop(t.offsetAttachTop),this.scrollingAnchorMain.notifyAll("DEFAULT_OFFSET_ATTACH_TOP",this.state.defaultOffsetAttachTop)),void 0!==t.offsetAttachBottom&&(this.calculateOffsetBottom(t.offsetAttachBottom),this.scrollingAnchorMain.notifyAll("DEFAULT_OFFSET_ATTACH_BOTTOM",this.state.defaultOffsetAttachBottom))},t.prototype.destroy=function(){this.scrollingAnchorMain.clearObservers(),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize)},t}();e.ScrollingAnchor=s},52:function(t,e,n){"use strict";var o=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(){this.observers=[]}return t.prototype.addObserver=function(t){return this.observers.push(t),this.observers.length},t.prototype.notifyAll=function(t,e){var n,l;try{for(var i=o(this.observers),r=i.next();!r.done;r=i.next())r.value.updateStatus(t,e)}catch(t){n={error:t}}finally{try{r&&!r.done&&(l=i.return)&&l.call(i)}finally{if(n)throw n.error}}},t.prototype.clearObservers=function(){var t,e;try{for(var n=o(this.observers),l=n.next();!l.done;l=n.next())l.value.destroy()}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.observers=[]},t}();e.ScrollingAnchorMain=l},53:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.option=null,this.wrapper=null,this.content=null,this.proxied={isActived:!1,offsetHeight:0},this.props={documentBody:null,scrollOffsetY:0,scrollHeight:0,defaultOffsetAttachTop:0,defaultOffsetAttachBottom:0,offsetAttachTop:0,offsetAttachBottom:0},this.virtualOffsetTop=0,this.option=t,this.wrapper=t.el,this.content=this.wrapper.children[0],this.virtualOffsetTop=this.wrapper.offsetTop,this.offsetHeight=this.wrapper.offsetHeight,this.props={documentBody:t.documentBody,scrollOffsetY:t.scrollOffsetY,scrollHeight:t.scrollHeight,defaultOffsetAttachTop:t.defaultOffsetAttachTop,defaultOffsetAttachBottom:t.defaultOffsetAttachBottom,offsetAttachTop:t.offsetAttachTop,offsetAttachBottom:t.offsetAttachBottom},this.addClass(["sa-"+t.direction])}return Object.defineProperty(t.prototype,"isActived",{get:function(){return!!this.proxied.isActived},set:function(t){t!==this.proxied.isActived&&(t?(this.addClass(["sa-attached"]),"top"===this.option.direction?(this.content.style.top=this.props.defaultOffsetAttachTop+this.props.offsetAttachTop+"px",this.option.broadcast("ATTACHED_TOP",this.offsetHeight)):(this.props.defaultOffsetAttachBottom>0?(this.content.style.bottom=this.props.offsetAttachBottom+"px",this.content.style.transform="translateY(-"+this.props.defaultOffsetAttachBottom+"px)"):(this.content.style.bottom=this.props.defaultOffsetAttachBottom+this.props.offsetAttachBottom+"px",this.content.style.transform=""),this.option.broadcast("ATTACHED_BOTTOM",this.offsetHeight))):(this.removeClass(["sa-attached"]),"top"===this.option.direction?(this.content.style.top="",this.option.broadcast("DETACHED_TOP",this.offsetHeight)):(this.content.style.bottom="",this.content.style.transform="",this.option.broadcast("DETACHED_BOTTOM",this.offsetHeight))),this.proxied.isActived=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetHeight",{get:function(){return this.proxied.offsetHeight||0},set:function(t){this.proxied.offsetHeight!==t&&(this.proxied.offsetHeight=t,this.wrapper.setAttribute("style","height:"+t+"px"))},enumerable:!0,configurable:!0}),t.prototype.updateStatus=function(t,e){var n;switch(t){case"SCROLL_OFFSET_Y":this.props.scrollOffsetY=e,this.checkWaypointActived();break;case"SCROLL_HEIGHT":this.virtualOffsetTop=this.wrapper.offsetTop,this.offsetHeight=this.wrapper.offsetHeight,this.props.scrollHeight=e,this.checkWaypointActived();break;case"DEFAULT_OFFSET_ATTACH_TOP":this.props.defaultOffsetAttachTop=e,this.isActived=!1,this.checkWaypointActived();break;case"DEFAULT_OFFSET_ATTACH_BOTTOM":this.props.defaultOffsetAttachBottom=e,this.isActived=!1,this.checkWaypointActived();break;case"OFFSET_ATTACH_TOP":case"OFFSET_DETACH_TOP":n=0===this.option.index?e[0]:e.slice(0,this.option.index+1).reduce((function(t,e){return t+e}),0),this.props.offsetAttachTop!==n&&(this.props.offsetAttachTop=n);break;case"OFFSET_ATTACH_BOTTOM":case"OFFSET_DETACH_BOTTOM":n=0===this.option.index?e[0]:e.slice(0,this.option.index+1).reduce((function(t,e){return t+e}),0),this.props.offsetAttachBottom!==n&&(this.props.offsetAttachBottom=n);break;case"INDEX_ATTACH_TOP":"top"===this.option.direction&&(this.option.index===e?this.addClass(["sa-last"]):this.removeClass(["sa-last"]));break;case"INDEX_ATTACH_BOTTOM":"bottom"===this.option.direction&&(this.option.index===e?this.addClass(["sa-last"]):this.removeClass(["sa-last"]))}},t.prototype.destroy=function(){this.removeClass(["sa-attached","sa-last"]),this.content.style.top="",this.content.style.bottom=""},t.prototype.checkWaypointActived=function(){if("top"===this.option.direction){var t=this.props.scrollOffsetY+this.props.offsetAttachTop;this.isActived=this.virtualOffsetTop<t}else t=this.props.scrollOffsetY+this.props.documentBody.offsetHeight-this.offsetHeight-this.props.defaultOffsetAttachTop-this.props.defaultOffsetAttachBottom-this.props.offsetAttachBottom,this.isActived=this.virtualOffsetTop>t},t.prototype.addClass=function(t){var e=this;t.forEach((function(t){return e.content.classList.add(t)}))},t.prototype.removeClass=function(t){var e=this;t.forEach((function(t){return e.content.classList.remove(t)}))},t}();e.ScrollingAnchorClient=o},54:function(t,e,n){},55:function(t,e,n){}}]);
//# sourceMappingURL=3-fefd599b.js.map